#include <behaviors/mouse_keys.dtsi>
#include <behaviors.dtsi>
#include <dt-bindings/zmk/bt.h>
#include <dt-bindings/zmk/keys.h>
#include <dt-bindings/zmk/pointing.h>

#define BASE 0
#define NAV 1
#define SYS 2
#define MOUSE 3
#define SYM 4

/ {
    keymap {
        compatible = "zmk,keymap";
        layers = <5>;

        // Layer 0: Default (QMK Layer 0をマッピング)

        base {
            display-name = "BASE";
            bindings = <
&kp TAB  &kp Q  &kp W  &kp E  &kp R  &kp T  &kp Y  &kp U  &kp I  &kp O  &kp P  &kp MINUS  &kp LEFT_CONTROL  &lt 2 A  &kp S  &kp D  &kp F  &kp G  &kp H  &kp J  &kp K  &lt 3 L  &kp SEMICOLON  &mt RIGHT_CONTROL TAB  &mt LEFT_SHIFT LANG2  &mt LEFT_SHIFT Z  &kp X  &kp C  &kp V  &kp B  &kp N  &kp M  &kp COMMA  &lt 2 DOT  &mt RIGHT_SHIFT SLASH  &mt LEFT_SHIFT LANG1  &lt 4 LEFT_GUI  &lt 1 SPACE  &mt LEFT_CONTROL ESCAPE  &kp BACKSPACE  &lt 1 ENTER  &mt RIGHT_ALT ENTER
            >;
        };

        // Layer 1: Navigation/Function (QMK Layer 2)

        nav {
            display-name = "NAV";
            bindings = <
&trans  &trans  &trans  &kp LG(UP)  &trans  &kp F8  &kp LC(LA(F11))  &kp HOME  &kp UP  &kp END  &kp GRAVE  &trans  &trans  &kp LEFT_CONTROL  &kp LS(LG(LEFT))  &kp LG(DOWN)  &kp LS(LG(RIGHT))  &trans  &kp PG_UP  &kp LEFT  &kp DOWN  &kp RIGHT  &kp PG_DN  &trans  &trans  &kp LEFT_SHIFT  &kp F2  &kp F3  &kp F4  &kp F5  &kp F9  &kp F10  &kp F11  &kp F12  &trans  &trans  &trans  &trans  &trans  &trans  &trans  &trans
            >;
        };

        // Layer 2: Numbers and Symbols (QMK Layer 3)

        sys {
            display-name = "SYS";
            bindings = <
&trans  &trans  &kp N7  &kp N8  &kp N9  &trans  &trans  &kp LS(LBKT)  &kp LS(RBKT)  &kp LS(LG(S))  &kp PSCRN  &trans  &trans  &trans  &kp N4  &kp N5  &kp N6  &trans  &trans  &kp LS(N9)  &kp LS(N0)  &trans  &kp BSLH  &trans  &studio_unlock  &trans  &kp N1  &kp N2  &kp N3  &trans  &trans  &kp LBKT  &kp RBKT  &trans  &kp SEMI  &trans  &trans  &kp N0  &trans  &kp DELETE  &trans  &trans
            >;
        };

        // Layer 3: Mouse (QMK Layer 4 - マウスボタン対応)

        mouse {
            display-name = "MOUS";
            bindings = <
&trans  &trans  &trans  &mkp MCLK  &trans  &trans  &mkp MCLK  &trans  &trans  &trans  &trans  &trans  &trans  &trans  &trans  &mkp RCLK  &mkp LCLK  &trans  &mkp RCLK  &mkp MB4  &mkp MB5  &trans  &trans  &trans  &trans  &trans  &trans  &kp LC(C)  &kp LC(V)  &trans  &trans  &trans  &trans  &trans  &trans  &trans  &trans  &trans  &trans  &mkp LCLK  &trans  &trans
            >;
        };

        // Layer 4: Symbols (QMK Layer 6)

        sym {
            display-name = "SYM";
            bindings = <
&bt BT_SEL 0  &kp EXCL  &kp AT_SIGN  &kp HASH  &kp DOLLAR  &kp PERCENT  &trans  &trans  &trans  &trans  &kp MINUS  &trans  &bt BT_SEL 1  &kp LEFT_CONTROL  &kp CARET  &kp ASTERISK  &kp AMPERSAND  &kp PIPE  &trans  &trans  &trans  &trans  &kp EQUAL  &trans  &bt BT_SEL 2  &kp LEFT_SHIFT  &kp SEMI  &kp COLON  &kp DOUBLE_QUOTES  &kp SQT  &trans  &trans  &trans  &trans  &trans  &bt BT_CLR  &trans  &trans  &trans  &kp DELETE  &trans  &trans
            >;
        };
    };
};
